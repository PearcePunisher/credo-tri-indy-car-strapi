import {
  ForwardRef$4n,
  pluginId
} from "./chunk-5FVCC6NZ.js";
import "./chunk-LMPM4PM5.js";
import "./chunk-OSJEGB6V.js";
import {
  require_react
} from "./chunk-D3I3COXH.js";
import {
  __toESM
} from "./chunk-LK32TJAX.js";

// node_modules/@strapi/plugin-cloud/dist/admin/components/Initializer.mjs
var import_react = __toESM(require_react(), 1);
var Initializer = ({ setPlugin }) => {
  const ref = (0, import_react.useRef)(setPlugin);
  (0, import_react.useEffect)(() => {
    ref.current(pluginId);
  }, []);
  return null;
};

// node_modules/@strapi/plugin-cloud/dist/admin/utils/prefixPluginTranslations.mjs
var prefixPluginTranslations = (trad, pluginId2) => {
  return Object.keys(trad).reduce((acc, current) => {
    acc[`${pluginId2}.${current}`] = trad[current];
    return acc;
  }, {});
};

// node_modules/@strapi/plugin-cloud/dist/admin/index.mjs
function __variableDynamicImportRuntime1__(path) {
  switch (path) {
    case "./translations/en.json":
      return import("./en.json-BGGL5QOK.js");
    case "./translations/fr.json":
      return import("./fr.json-DQ5MHT4W.js");
    case "./translations/uk.json":
      return import("./uk.json-EZNNQTS7.js");
    default:
      return new Promise(function(resolve, reject) {
        (typeof queueMicrotask === "function" ? queueMicrotask : setTimeout)(
          reject.bind(null, new Error("Unknown variable dynamic import: " + path))
        );
      });
  }
}
var name = "Deploy";
var index = {
  register(app) {
    const { backendURL } = window.strapi;
    if (backendURL == null ? void 0 : backendURL.includes("localhost")) {
      app.addMenuLink({
        to: `plugins/${pluginId}`,
        icon: ForwardRef$4n,
        intlLabel: {
          id: `${pluginId}.plugin.name`,
          defaultMessage: name
        },
        Component: async () => {
          const { App } = await import("./App-7S2KITTF.js");
          return App;
        }
      });
      const plugin = {
        id: pluginId,
        initializer: Initializer,
        isReady: false,
        name
      };
      app.registerPlugin(plugin);
    }
  },
  async registerTrads(app) {
    const { locales } = app;
    const importedTrads = await Promise.all(locales.map((locale) => {
      return __variableDynamicImportRuntime1__(`./translations/${locale}.json`).then(({ default: data }) => {
        return {
          data: prefixPluginTranslations(data, pluginId),
          locale
        };
      }).catch(() => {
        return {
          data: {},
          locale
        };
      });
    }));
    return Promise.resolve(importedTrads);
  }
};
export {
  index as default
};
//# sourceMappingURL=@strapi_plugin-cloud_strapi-admin.js.map
